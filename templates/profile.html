{% extends "base.html" %} 
{% block content %}

<!-- Welcome user -->
<div class="row">
  <div class="col">
    <h1>{{ username }}'s Profile</h1>
  </div>
</div>

<div class="row">
  <div class="col">
    <h3>
      Welcome to your profile, {{ username }}! Here you will find all reviews
      you have uploaded so far, along with the option to edit / delete them.
    </h3>
  </div>
</div>

<!-- Users own reviews -->
{% for review in reviews %}
<div class="card-columns">
  <div class="card">
    <img
      src="{{ review.book_cover }}"
      class="card-img-top book-cover"
      alt="Book cover of {{ review.book_title }} "
    />
    <div class="card-body">
      <h5 class="card-title"><b>{{ review.book_title }}</b></h5>

      <div class="rating">
        {% if review.rating == "5" %}
        <i class="fa fa-star" aria-hidden="true"></i>
        <i class="fa fa-star" aria-hidden="true"></i>
        <i class="fa fa-star" aria-hidden="true"></i>
        <i class="fa fa-star" aria-hidden="true"></i>
        <i class="fa fa-star" aria-hidden="true"></i>

        {% elif review.rating == "4" %}
        <i class="fa fa-star" aria-hidden="true"></i>
        <i class="fa fa-star" aria-hidden="true"></i>
        <i class="fa fa-star" aria-hidden="true"></i>
        <i class="fa fa-star" aria-hidden="true"></i>

        {% elif review.rating == "3" %}
        <i class="fa fa-star" aria-hidden="true"></i>
        <i class="fa fa-star" aria-hidden="true"></i>
        <i class="fa fa-star" aria-hidden="true"></i>

        {% elif review.rating == "2" %}
        <i class="fa fa-star" aria-hidden="true"></i>
        <i class="fa fa-star" aria-hidden="true"></i>

        {% elif review.rating == "1" %}
        <i class="fa fa-star" aria-hidden="true"></i>
        {% endif %}
      </div>
    </div>

    <ul class="list-group list-group-flush">
      <li class="list-group-item"><b>Author:</b> {{ review.author_name }}</li>
      <li class="list-group-item">
        <b>Category:</b> {{ review.category_name }}
      </li>
      <li class="list-group-item">
        <b>Description:</b> {{ review.book_description }}
      </li>
      <li class="list-group-item">
        <b>Reviewed by:</b> {{ review.created_by }}
      </li>
    </ul>
    <!-- Edit & Delete buttons -->
    <div>
      <a
        class="btn btn-outline-info btn-sm"
        href="{{ url_for('edit_review', review_id=review._id) }}"
        role="button"
        >Edit Review</a
      >
      <a
        class="btn btn-outline-dark btn-sm"
        href="{{ url_for('delete_review', review_id=review._id) }}"
        role="button"
        >Delete Review</a
      >
    </div>
  </div>
</div>

{% endfor %} 
{% endblock %}
